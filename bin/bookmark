#!/usr/bin/env bash

if [[ ! "$@" ]]; then
  selected="$(tac ~/notes/more/urls_generated ~/notes/more/bookmarks | sort | uniq | shuf | fzf)"
  echo "$selected"
  echo "$selected" | xclip -selection clipboard
  # xdg-open "$selected" &
else
  echo "$@" >> ~/notes/more/bookmarks
  (cat $(fd --extension=md . ~/notes) | grep -Eo 'https?://[a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,}(\/\S*)?' | tr -d ')') > ~/notes/more/urls_generated
  (cat $(fd --extension=md . ~/notes) | grep -E 'https?://[a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,}(\/\S*)?' ) >> ~/notes/more/urls_generated
  # echo "$(cat ~/notes/more/bookmarks | uniq | sort)" > ~/notes/more/bookmarks
fi

