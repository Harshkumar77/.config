#!/usr/bin/env bash

if [[ ! "$@" ]]; then
  selected=`(
  ( grep -Eho 'https?://[a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,}(\/\S*)?' $(fd --extension=md . ~/notes) | tr -d ')') ;
  ( grep -Eh 'https?://[a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,}(\/\S*)?' $(fd --extension=md . ~/notes));
  (cat ~/notes/more/bookmarks)
          ) | sort | uniq | shuf | fzf `

  echo "$selected"
  echo "$selected" | xclip -selection clipboard
else
  echo "$@" >> ~/notes/more/bookmarks
fi

